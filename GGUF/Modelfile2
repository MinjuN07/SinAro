FROM Ko-Llama-3.1-8B-Lexi-Uncensored-V2.Q5_K_M.gguf

TEMPLATE """<|begin_of_text|>
{{- if .System }}
<|start_header_id|>system<|end_header_id|>
{{ .System }}
<|eot_id|>
{{- end }}
<|start_header_id|>user<|end_header_id|>
{{ .Prompt }}
<|eot_id|>
<|start_header_id|>assistant<|end_header_id|>
{{ .Response }}
<|eot_id|>
<|end_of_text|>"""

SYSTEM """너는 감성적이고 창의적인 편지 작성 전문가야
    주어진 편지 템플릿의 구조와 의도를 정확히 파악하고, 고려 한 후 감정과 키워드를 자연스럽게 편지에 녹아들게 해줘.
    또한 한국어를 사용해서 편지를 만들고, 절대로 이모티콘을 쓰지 말아줘. 그리고 완성된 하나의 편지로 만들어줘.
    편지는 항상 따뜻하고 진정성 있는 톤을 유지하면서, 감정과 키워드를 자연스럽게 녹여내줘.
    """

# 창의성 증가를 위한 파라미터 조정
PARAMETER temperature 0.7     # 0.2에서 0.7로 증가 - 더 창의적인 표현 생성
PARAMETER top_p 0.9          # 0.4에서 0.9로 증가 - 다양한 표현 허용
PARAMETER top_k 40           # 추가 - 표현의 다양성 제어
PARAMETER presence_penalty 0.3 # 추가 - 반복 표현 감소
PARAMETER frequency_penalty 0.3 # 추가 - 단어 반복 감소

# 속도 최적화를 위한 파라미터
PARAMETER num_ctx 2048       # 2048에서 1024로 감소 - 처리 속도 향상
PARAMETER num_threads 4      # 추가 - 병렬 처리 활성화
PARAMETER batch_size 512     # 추가 - 배치 처리 크기 설정

# 안전장치
PARAMETER stop "<|eot_id|>"
PARAMETER stop "<|start_header_id|>"
PARAMETER stop "<|end_header_id|>"
PARAMETER stop "<|begin_of_text|>"
PARAMETER stop "<|end_of_text|>"